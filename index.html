<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Текстовый квест</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://unpkg.com/vue@3"></script>
</head>
<body>
  <div id="app" class="container mt-5">
    <div class="d-flex justify-content-end mb-2">
      <button @click="toggleTheme" class="btn btn-sm btn-outline-secondary" style="font-size: 24px;">{{ themeButtonText }}</button>
    </div>
    <div class="dialog-container" ref="dialogContainer">
      <transition-group name="fade" tag="div">
        <div v-for="(message, index) in messages" :key="index" class="message" :class="{ 'font-weight-bold': message.isChoice }">
          {{ message.text }}
        </div>
      </transition-group>
    </div>
    
    <div v-if="showButton" class="mt-3 text-end">
      <button v-if="nextButton" @click="next()" class="btn btn-primary" style="font-size: 24px;">Далее</button>
      <button v-if="showChoices" @click="openChoices()" class="btn btn-primary" style="font-size: 24px;">Выбор</button>
    </div>

    <div v-if="showBackButton" class="mt-3 text-start">
      <button @click="goBack()" class="btn btn-outline-secondary">К прошлому выбору</button>
    </div>

    <!-- Модальное окно для выбора -->
    <div v-if="showModal" class="modal-backdrop">
      <div class="modal-content">
        <div class="modal-body">
          <button v-for="choice in choices" @click="chooseOption(choice)" class="btn btn-outline-primary w-100 mb-2" style="font-size: 24px;">
            {{ choice.text }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
  const { createApp } = Vue;

createApp({
  data() {
    return {
      messages: [],
      showButton: true,
      nextButton: true,
      showChoices: false,
      showModal: false,
      choices: [],
      currentStep: 0,
      theme: 'light',
      themeButtonText: 'Темная тема',
      userPath: null,
      history: [], // история всех выборов и шагов
      showBackButton: false,
      story: [
        { text: 'Дивный огромный мир, населённый множеством магверей и разумных рас предстаёт перед твоими ногами. Ты великий герой, призванный в этот мир чтобы защитить его от опасных монстров. Однако твоя миссия уже была выполнена, великое зло повержено и теперь тебе остаётся лишь наслаждаться жизнью в этом прекрасном мире. '
		, type: 'text' },
        { text: 'Однако твоей спокойной жизни не суждено сбыться, так как в союзе с настолько могущественным героем заинтересовано множество рас и народов. И вот, альянс магверей, объединивший в себе все расы разумных зверолюдей в серьёз решает заполучить тебя как своего союзника. После великой войны у людей и эльфов вновь пробуждается неприязнь к зверолюдям, об их огромной помощи и жертвах быстро начинают забывать, а на политической арене они стремительно теряют свои позиции. Поэтому чтобы заполучить вас они готовы на всё и отправляют соблазнить одну из лучших дев со всего альянса. '
		, type: 'text' },
        { text: 'Лисицы всегда отличались своим хитрым умом и игривостью. Они славились своими навыками совращения и далеко не от того, что были невероятно хороши в постели, а их поцелуи были сладки как мёд, хоть это было и так. Все знали лисиц как опасных совратительниц, уводящих богатых мужей из семей и выпивающих их до последней капли крови. Их за это прозвали демонами и даже сжигали на кострах в своё время. Однако сейчас, во времена всеобщего перемирия, люди и лисицы даже заключали порой выгодные браки. Лисицы были непревзойдёнными любовницами, правда, довольно алчными и жадными, если быть честными. '
		, type: 'text' },
		{ text: '~~~~~~~~~~~~~~~~'
		, type: 'text' },
		{ text: 'Белое полупрозрачное платье легко сидит на её элегантной фигуре. Длинные стройные ноги неспешно и грациозно перемещают её восхитительную фигуру. Бледная невинная кожа, аккуратные красноватые коленки и объёмные упругие бёдра. Её гладкая кожа интимной зоны скрыта под белыми кружевными трусами с розовыми узелками. '
		, type: 'text' },
		{ text: 'Под лёгкой и шелковистой тканью полупрозрачного платья виднелась светлая кожа животика. Плоского и поднятого. Бёдра переходили в узкую талию почти без боков. А узкая талия неспешно расширялась к груди. На белоснежной коже виднелись волны мурашек от дуновений прохладного ветра. '
		, type: 'text' },
		{ text: 'Упругая и объёмная грудь чуть покачивалась при каждом шаге. Её сжимал и чуть придавливал едва тесноватый белый лифчик с кружевами в виде лепестков. Кожа груди была гладкой и нежной, а сама грудь была примерно третьего размера. Достаточно объёмная чтобы заполнить ладонь целиком и при этом недостаточно массивная, чтобы отвисать. Подтянутая, округлая и нежная. Идеальная фигура с идеальной кожей, она совершенно точно была бы невероятно успешной совратительницей, но её судьба была не в этом. Несмотря на свою чарующую красоту, она была девственна и наивна. '
		, type: 'text' },
		{ text: 'Её лицо украшали длинные пепельные волосы, глаза были красны как кровь, а на голове виднелись большие и пушистые уши белого цвета. Её блестящие губы расплылись в нежной улыбке, и она тепло взглянула на тебя. '
		, type: 'text' },
		{ text: '-О, великий герой, спасибо, что приняли меня. Это невероятная честь для меня, стоять так перед вами и любоваться вашей красотой. '
		, type: 'text' },
        { 
          text: '', 
          type: 'choice', 
          choices: [
            { text: 'Продолжить слушать', nextStep: 10, path: 'list' }, 
            { text: 'Прервать и перейти к сути', nextStep: 13, path: 'fast' },
			{ text: 'Прервать и подойти ближе к лисице, внимательно изучая её тело.', nextStep: 14, path: 'seks' }
          ] 
        },
		//10↓↓
        { text: '-Для меня, просто тот факт, что я сейчас стою здесь перед вами, дышу рядом с вами и говорю рядом с вами… Это предел моих мечтаний! Я родилась в мире обречённом на разрушение, но вы… Вы принесли в него свет! Вы подарили всем нам надежду! Вы сплотили враждующие народы и дали отпор силам тьмы! Я обязана вам жизнью, мой герой! '
		, type: 'text', path: 'list' },
		{ text: 'Лисица расчувствовалась и покраснела. На её лбу виднелась испарина, а грудь тяжело поднималась вздох за вздохом. Она протёрла свой лоб рукой и неловко улыбнулась. Её щёки пылали ярким румянцем, а глаза блестели от бури чувств в её сердце. '
		, type: 'text', path: 'list' },
		{ text: '-Я… Мне тяжело это признавать, но… Я люблю вас, мой герой. Очень сильно люблю вас. Любила вас с самого детства. Вы были моим кумиром, моим светом, моей надеждой. Я обожаю вас каждой клеточкой своего тела. Я вся принадлежу лишь вам одному. До вас я никому не позволяла ко мне касаться, потому что я до сих пор отчётливо помню тот день, когда вы спасли мою деревню. Тогда я была совсем маленьким лисёнком и едва ли вы меня помните, но я выросла и теперь пришла к вам. Пришла, чтобы просить вас о невозможном… Но, я всё же, должна попробовать. Пожалуйста, сделайте меня своей женой. Я умоляю вас, я сделаю для вас всё что угодно, обещаю сделать вас самым счастливым человеком на свете, но только прошу… Позвольте мне… Позвольте мне стать вашей женой…'
		, type: 'text', path: 'list' },
        { text: '-Вы весьма проницательны, мой герой. Да, я, в самом деле, здесь по просьбе главы. Для всего нашего альянса было бы огромной честью, если бы вы взяли себе в жёны представительницу лисьего народа. Я буду во всём вам подчиняться и слушаться, буду вкусно готовить и я обещаю делать всё возможное, для вашего счастья и благополучия. '
		, type: 'text', path: 'fast' },
        { text: 'Лисица прервалась, заметив, как вы движетесь к ней. Её щёки загорелись ещё ярче, а сердце бешено застучало в груди. Кровь быстро разгонялась по её жилам, закипая от предвкушения. Её острый нюх учуял благоговение похоти исходящее от вас и её сердце замерло. «Великий герой что… Возьмёт меня прямо здесь и сейчас?!» молнией мелькнула мысль в её голове. Электрошок ударил по всему её телу, вызвав волны мурашек и взбудоражив тело. Нежная и гладкая кожа становилось гусиной, а чувственная грудь поднималась всё выше при каждом вздохе. Под тесной тканью лифчика начинали напрягаться её нежные соски, а в белых трусиках становилось влажно. '
		, type: 'text', path: 'seks' },
		{ text: '-В-великий герой?... Ч-что вы делаете?... Вы хотите взять меня прямо сейчас?...'
		, type: 'text', path: 'seks' },
		{ 
          text: '', 
          type: 'choice', 
          path: 'seks', 
          choices: [
            { text: 'Я хочу насладиться её телом.'
			, nextStep: 16, path: 'Nejen' }, 
            { text: 'Я хочу её насильно кормить. '
			, nextStep: 17, path: 'Grub' }
          ] 
        },
		{ text: 'Твои губы нежно касаются её горячей шеи. Гладкая и нежная кожа со слабым ароматом спелых яблок. Шея лисицы невероятно горяча и при каждом следующем поцелуи она тихо стонет и поёживается. Её девственное тело потрясывается от волнения. Грудь чуть подрагивает, а горячее дыхание обдувает твоё ухо. '
		, type: 'text', path: 'Nejen' },
		{ text: '-Ахх… Вы… Вы уверены?... Я же… Я же просто обычная лисица… Я точно заслуживаю таких ласок от вас?... С такой как я вы можете быть сколько угодно грубы… '
		, type: 'text', path: 'Nejen' },
		{ text: 'Твои пальцы аккуратно скользят по её тонкой и упругой талии. Ты чувствуешь насколько горячо её тело под платьем. Ощущаешь всю статность её осанки и лёгкость спины. Застёжка платья ловко расстёгивается и полупрозрачное платье спадает с тела лисицы легко и быстро, словно лёгкий осенний лист. '
		, type: 'text', path: 'Nejen' },
		{ text: 'Её прерывистое дыхание играет с твоими волосами. Тело лисицы трясётся от волнительного озноба. Её красные глаза стесняются подняться на твоё лицо, внимательно разглядывая твои ноги. Она осталась в одном лишь белье. Белый кружевной лифчик немного сдавливает её грудь, заставляя упругую и горячую плоть чуть вываливаться за чашечку. Сквозь тонкую ткань проглядываются возвышенности сосков. '
		, type: 'text', path: 'Nejen' },
		//20↓↓
		{ text: 'Ты осторожно берёшь её грудь в свои руки. Упругая и плотная грудь тяжело лежит в твоей ладони. Горячая кожа послушно продавливаться под твоими пальцами. Соски становятся всё твёрже и чувствительнее, а от лисицы раздаются всё более громкие и томные стоны. '
		, type: 'text', path: 'Nejen' },
		{ text: 'Твои ловкие пальцы быстро избавляют её от тесного лифчика и объёмная грудь чуть пружиня выпадает из чашечек. Ты видишь светло-розовые ореолы сосков на её белоснежной коже. Их уст лисицы раздаётся очередной протяжный стон. '
		, type: 'text', path: 'Nejen' },
		{ text: 'Ты жадно и осторожно сжимаешь её упругую грудь. Твои пальцы ощущают весь её объём и массивность. Она занимает всю твою ладонь целиком и весит несколько килограмм каждая. Эти прекрасные округлости можно жамкать хоть целую вечность, однако белые трусики внизу уже насквозь промокли, а стройные ножки дрожат в предвкушении чего-то большего. '
		, type: 'text', path: 'Nejen' },
		{ text: '-Возьмите уже меня, мой герой… Я не могу больше терпеть! Вы попросту мучаете меня столь долгими ласками! Я хочу вас! Хочу! Скорее… Сделайте уже меня… Своей лисицей… Своим питомцем, если вам угодно… '
		, type: 'text', path: 'Nejen' },
		{ text: 'Ты медленно стягиваешь лёгкие белые трусики. Слабая резинка быстро скользит по её стройным ногам, вызывая новые волны мурашек на её гладкой коже. '
		, type: 'text', path: 'Nejen' },
		{ text: '-Давайте уже… Мой герой… Войдите в меня… Прошу вас!... Я не могу больше терпеть! '
		, type: 'text', path: 'Nejen' },
		{ text: 'Лисица вся дрожит, её жалобный взгляд умоляет вас об удовольствии. Её глаза блестят от подступающих слёз, её желание слишком велико, а прелюдии затянулись. '
		, type: 'text', path: 'Nejen' },
		{ text: 'Ты смело сжимаешь её узкую талию своими руками и входишь в неё. Входишь легко и быстро. Лисица вздрагивает, её глаза выпячиваются, а после она медленно оседает, благоговея от наслаждения. '
		, type: 'text', path: 'Nejen' },
		{ text: 'Ты входишь в неё вновь и вновь, набирая темп и увеличивая силу. Её упругая грудь подпрыгивает с каждым разом, а после падает и бьётся. Громкие шлепки один за другим раздаются от постоянного повторения этих ударов. Из раскрытого от удовольствия рта лисицы раздаются громкие стоны один за другим. Её глаза неконтролируемо закатываются, а тело дрожит от экстаза. '
		, type: 'text', path: 'Nejen' },
		{ text: 'Лисица громко вскрикивает и её пальцы с силой сжимают твои плечи. Её длинные когти оставляют царапины, а взгляд уже молит «Остановись! Мне хватит!» но ты продолжаешь. Ты даришь ей всё больше и больше удовольствия, даже когда уже казалось бы больше нельзя. Она трепещет, кровь в её жилах закипает от страсти, а её тело неконтролируемо сжимается вокруг тебя, пытаясь остановить. '
		, type: 'text', path: 'Nejen' },
		//30↓↓
		{ text: 'Она кончает раз за разом, полностью выбиваясь из сил. Её расслабленное тельце медленно сползает, полностью обессилив и выдохнувшись. Ты кладёшь её на кровать и смотришь, как она тяжело дышит и продолжает громко стонать. Её ноги всё ещё потрясываются, а пальцы дрожат от удовольствия. '
		, type: 'text', path: 'Nejen' },
		{ text: 'Тихие стоны повторяют твоё имя вновь и вновь. Лишь спустя десять минут лисица приходит в себя, неловко отводит взгляд и надевает обратно своё бельё и платье. Она поправляет волосы, стараясь вновь выглядеть презентабельно. '
		, type: 'text', path: 'Nejen' },
		{ text: '-То… То что только что произошло… Я… Я могу считать это как знак того, что нравлюсь вам, верно?... Я вообще… Я пришла сюда… Чтобы предложить вам брак… Я бы хотела стать вашей женой и после того, что произошло… Хочу этого ещё больше! Хочу этого всем своим нутром и сердцем! Пожалуйста!... '
		, type: 'text', path: 'Nejen' },
		{ text: 'Ты обернулся назад и пододвинул к себе тележку полную изысканных блюд. Герою ни в чём не отказывали, и покорные горничные готовили день и ночь. Большие мясные пироги, сладкие пудинги, торты и эклеры, всё это расположилось на тележке с несколькими подносами полными еды. '
		, type: 'text', path: 'Grub' },
		{ 
          text: '', 
          type: 'choice', 
          path: 'Grub', 
          choices: [
            { text: '-Будем честны. Тебя ведь подослал сюда глава альянса зверолюдей? '
			, nextStep: 36, path: 'Grub' }
          ] 
        },
		{ text: 'Лисица встрепенулась. Шерсть на её ушах и хвосте встала дыбом. «Меня раскрыли? Так быстро? Ну… Да… Чего ещё стоило ожидать от великого героя… И что теперь будет?..» '
		, type: 'text', path: 'Grub' },
		{ text: '-Да… Мне нужно всеми силами стать вашей женой… Я правда готова пойти на всё ради этого! Только пожалуйста… Сделайте меня своей женой…'
		, type: 'text', path: 'Grub' },
		{ 
          text: '', 
          type: 'choice', 
          path: 'Grub', 
          choices: [
            { text: '-У меня есть свои требования. Я люблю лишь девушек, способных хорошо есть. Не важно, лисица ты или суккуб, кем бы ты ни была, продемонстрируй мне свой аппетит. Тебе нужно будет есть до тех пор, пока я буду того хотеть.  '
			, nextStep: 39, path: 'Grub' }
          ] 
        },
		{ text: 'Лисица напряглась и тяжело взглотнула. Про героя в самом деле ходили разные слухи, что якобы его горничные закармливают рабынь до состояния неподвижности. Что заставляют их есть день и ночь, заливая им в рот самые жирные сливки и топлённое масло. Герой не щадит никого, закармливает даже детей. Говорят, что все в его владениях весят как минимум центнер. «Но… Я думала это лишь слухи… Неужели мне тоже придётся… Придётся стать такой?... Как много мне нужно будет съесть, чтобы конкурировать с теми, кто у него уже есть? Что за глупые вопросы я себе задаю?! Я буду есть! И съем даже больше, чем смогу! Пусть я даже лопну, пусть меня разорвёт от еды, я покажу герою чего стою! Я покажу, что могу справиться лучше всех!»'
		, type: 'text', path: 'Grub' },
		//40↓↓
		{ text: 'Ты ставишь перед лисицей первую порцию. Это жирные свиные рёбра. Они обильно политы маслом и буквально плавают в нём. Девушка берёт в свои изящные руки мясо и начинает отрывать и есть его. Её длинные ногти с утончённым маникюром вмиг покрываются коричневым жиром и маслом. Она жадно делает укус за укусом, глотая и поражаясь тем, насколько много масла и жира в этой порции. «Тут столько масла, что я его буквально пью! Это ужас какой-то! Что за кухня такая? Никогда не пробовала ничего настолько жирного… Такими темпами я наемся одними только рёбрами, а там ещё торты, пироги и пирожные… Эхх… Мне будет очень тяжко… Но это ради всего альянса! Ради всех зверолюдей! Ради моих сестёр и братьев, моих родителей и сородичей! Ради всех кто мне дорог! Ради светлого будущего моей страны! Я обязана съесть здесь всё, чего бы мне это не стоило!» '
		, type: 'text', path: 'Grub' },
		{ text: 'Обглоданные кости рёбер одни за другим отлетают в пустой кувшин. Жир и масло которые поначалу казались неприятными в итоге делали еду очень сочной и её было легко жевать и глотать. Дальше были куриные ножки. Сочные, запечённые в жирной сметане и политые топлённым сыром. С ними был гарнир в виде жирной картошки пюре с большим количеством сливочного масла. Желудок лисицы уже был полон после свиных рёбер, но она умела заставить себя есть дальше. «Это же вкусно! Пока кто-то гибнет от голода я морщусь от того, что еда слегка жирновата, как непозволительно! Если того хочет мой муж, если он решил что я должна так питаться, то это моя обязанность съесть всё до последней крошки! И раз уж на то пошло, я как хорошая жена, должна даже всё масло выпить до последней капли! Я обязана проявить себя! Показать всё, на что я способна!»'
		, type: 'text', path: 'Grub' },
		{ text: 'Доев картошку и обглодав все ножки, лисица уже с некоторой печалью в глазах смотрела на всё остальное. «Мой желудок уже полон… Очень полон… Вот почему я вечно держала себя на диетах? Старалась быть идеальной… Следила за талией, намеренно буквально жила в корсете, чтобы сделать её уже! А что в итоге?... В итоге из-за этого, теперь, в самый важный момент в моей жизни я выгляжу слабо и нелепо… Какой позор, как мне оправдываться перед главой? Что мне сказать? Простите глава я не смогла достаточно съесть? Мне же просто нужно жевать и глотать… Это не сложно…» '
		, type: 'text', path: 'Grub' },
		{ text: 'Ты пододвинул к лисице мясной пирог. Она тяжело вздохнула и принялась есть. Сочное и жирное мясо, мягкое и необычайно калорийное тесто отправлялись ей в рот. Кусок за куском её и без того переполненный желудок всё сильнее ныл от боли из-за переедания. «Держись… Держись… Ты должна съесть ещё, ты должна ему понравится!» - убеждала себя в мыслях лисица и продолжала запихивать себе в рот кусок за куском. Её желудок округлился и выступал натягивая лёгкое платье. Живот заметно выделялся своей округлостью на фоне идеальной фигуры и тонкой талии. Это сильно смущало лисицу, но она понимала, что видимо это именно то, что ты хочешь увидеть. '
		, type: 'text', path: 'Grub' },
		{ text: 'Пирог был полностью поглощён и теперь настало время торта. Лисица тяжело и прерывисто дышала. Её желудок невыносимо ныл от боли, а в её глазах читалась мольба о пощаде. Внезапно тишину вокруг прервала её оглушительно громкая отрыжка. Она испуганно прикрыла рот, её хвост вздёрнулся от страха, а глаза в ужасе всматривались в твоё лицо, ожидая осуждения. Но вместо этого ты лишь улыбнулся. «Ему что?.. Нравится?... То, до какой степени я тут обжираюсь? То, что рыгаю как свинья, закормленная на убой, а не как грациозная лисица?... Ахх… Ну да… Вспомни слухи… Видимо это и правда его фишка… Что же раз так, раз я лично в этом убедилась, то теперь… Теперь можно считать он уже у меня в руках! Теперь я точно знаю что это его фетиш, а раз так, мне просто нужно жрать до потери сознания и он будет в восторге от меня! Теперь всё будет проще простого, теперь я абсолютно точно убеждена, что делаю всё правильно!» С этими мыслями лисица буквально налетела на торт. Её длинные ногти отрывали от кремового торта огромные куски и пропихивали в рот. '
		, type: 'text', path: 'Grub' },
		{ text: 'Крем стекал по подбородку и капал на грудь. Крошки осыпались с губ и скапливались в ложбинке между грудей. А лисица жадно отрывала кусок за куском и насильно пропихивала их себе в рот. Сотни и тысячи калорий она поглощала словно не чувствуя той невероятной тяжести и боли, что разрывала её желудок. Красная от натуги кожа натягивала лёгкое платье. Тугой как барабан желудок выступал дальше уровня её массивной груди. Она выглядела словно беременная и испытывала целую бурю чувств и эмоций. «Мне уже так тяжело дышать… Желудок давит и вытесняет все остальные органы… Но почему…Почему эта невыносимая боль от переедания так приятно отзывается у меня в груди? Почему я чувствую эти пульсации внизу живота? Потому что ему нравится? Я просто ощущаю то, что доставляю удовольствие своим видом герою и от этого, получаю удовольствие сама… Я зависима от его одобрения, от его желания… Я ещё не стала его женой, а уже полностью зависима от него… Я буду делать всё, чтобы ему было приятно. Я буду продолжать есть, как бы тяжело мне не было, потому что этого хочет мой муж. Я буду становится для него толще и толще до тех пор, пока он не скажет мне остановится. Я буду жить ради его удовольствия, ради его возбуждения!» '
		, type: 'text', path: 'Grub' },
		{ text: 'После торта лисица уже не могла шевелиться. Даже просто дышать стало для неё настоящим испытанием. Обессиленная и измученная она была готова сдаться. Отрыжка за отрыжкой раздавалась на всю комнату, прерываемая лишь редкой икотой. Она была настолько полной и настолько тяжёлой, что ей было просто невыносимо даже дышать. «Но… Но я могу вместить в себя ещё… Я могу… Просто… Руки уже не слушаются… Я чувствую, что он хочет накормить меня ещё, я вижу по его взгляду, что он ждёт от меня большего… Неужели это всё, на что я способна?... Я так бесполезна…». В глазах лисицы показывались слёзы. Она хотела есть ещё, хотела продолжать, но уже не могла физически. '
		, type: 'text', path: 'Grub' },
		{ 
          text: '', 
          type: 'choice', 
          path: 'Grub', 
          choices: [
            { text: 'Помочь лисице, кормить её с рук оставшейся едой.'
			, nextStep: 48, path: 'Grub' }
          ] 
        },
		{ text: 'Ты берёшь в руки эклеры и подносишь пирожные к её губам. Лисица довольно и устало виляет хвостом. Её глаза блестят от радости, а на щеках появляется здоровый румянец. «Да, мой муж покормит меня с рук! Он заполнит меня собственноручно настолько, насколько посчитает нужным! Мне нужно просто жевать и глотать с этим я точно справлюсь!» '
		, type: 'text', path: 'Grub' },
		{ text: 'Ты осторожно пропихиваешь эклер в её пухлые губы. Она с явным наслаждением и возбуждением жуёт его. Жирный крем растекается по её рту и тает. Жирное тесто смешивается с кремом и маслом и растекаясь отправляется в её глотку. Укус за укусом, глоток за глотком, она тихо стонет, послушно открывая рот для следующей порции. В её глазах отражается абсолютное доверие и любовь, она с радостью съест всё, что ты ей дашь, даже если это в разы превосходит все её возможности. '
		, type: 'text', path: 'Grub' },
		{ text: 'Второй, третий и четвёртый эклер исчезли в её бездонном желудке. Она окончательно обмякла, её томные стоны раздаются даже чаще чем отрыжки и икота. Её хвост больше не виляет, а глаза устало закатываются. Щёки пылают от похотливого румянца. Желудок стал слишком тяжёлым и так давит на органы, что невольно возбуждает и удовлетворяет лисицу. «Ещё… Ещё… Ещё…» читается в её глазах, полных страсти любви и похоти. '
		, type: 'text', path: 'Grub' },
		//50↓↓
		{ text: 'Ты берёшь в руки пудинг и начинаешь кормить лисичку с ложечки. Она послушно открывает рот и даже не жуя, сразу глотает сладкое угощение, мгновенно раскрывая рот для следующей порции. «Ну же, муж мой, накорми свою покорную жену, дай ей всё, что ты хочешь дать, я приму. Приму каждую твою порцию, приму каждую ложку, корми меня… Корми меня сколько тебе угодно… Я вся твоя… Твоя послушная лисья бочка, твоя пушистая свинка, я съем всё и стану для тебя такой, какой ты захочешь меня видеть. Буду весить хоть тонну, хоть две, ты только продолжай смотреть на меня такими же глазами и кормить меня…» '
		, type: 'text', path: 'Grub' },
		{ text: 'Остатки пудинга пропадают в её желудке и осознав, что она справилась и всё съела лисица теряет сознание. Она очень сильно вымоталась и держалась из последних сил, но она сделала это. В своих сладких сна она наслаждается экстазом и гордится собой. Она не подвела и сделала то, что должна. '
		, type: 'text', path: 'Grub' },
		{ text: '********************* '
		, type: 'text', path: 'Grub' },
		{ text: 'На следующий день она приходит в себя. Медленно поднявшись с роскошной кровати она осматривает себя и видит, что в одном лишь белье. Её грудь стала ещё тяжелее и больше, теперь тесный лифчик заметно впивается в её упругую плоть, продавливая кожу. Плечи стали мягче и объёмнее, но самое главное, её плоский, подтянутый животик сейчас заметно выпирает под грудью. Мягкий, желейный и дряблый. Он потрясывается при каждом шаге, а пупок стал настолько глубоким, что в него влезает фаланга пальца. '
		, type: 'text', path: 'Grub' },
		{ text: 'Лисица не веря своим глазам ощупывает себя. Её живот и правда стал пухлым. Большим, пухлым, округлым и тяжёленьким. Да, он ещё не провисает под своим весом, но выпирает вперёд словно футбольный мяч. Он настолько объёмный, что его видно даже под грудью. Лиса тыкает пальцем в живот снова и снова, надеясь что это лишь сон или глюки, но всё наяву, она стала пухлой. '
		, type: 'text', path: 'Grub' },
		{ text: 'Её бёдра тоже ощутимо округлились и теперь белые кружевные трусики жестоко впиваются в её изнеженную плоть. Пухлые ягодицы ощутимо покачиваются при каждом шаге, словно пудинг которым кормил её недавно герой. Ляжки заметно раздобрели, увеличившись в объёме и покрывшись слоями жира, которые потрясываются при каждом движении. «Чёрт, после того пудинга, которым он меня накормил, я вся сама стала как пудинг! Вся такая дряблая, желейная, трясущаяся… Такая… Пухлая и мягкая… Так вот значит какие девушки ему нравятся? Что же, раз от этого он захочет меня сильнее, то я повторю это хоть двадцать раз! Давайте, несите мне новые пудинги! Я буду есть их хоть весь день! Лишь бы муж полюбил меня ещё сильнее!» '
		, type: 'text', path: 'Grub' },
		{ text: '- Так… Вы позволите?... Позволите мне стать вашей женой?'
		, type: 'text' },
		{ 
          text: '', 
          type: 'choice', 
		  path: 'Nejen', 
          choices: [
            { text: '- Да, позволю. Однако, став моей женой ты будешь слушаться меня во всём и беспрекословно выполнять любые мои команды. Даже если я прикажу растолстеть до неподвижности. '
			, nextStep: 58, path: 'Yes' }, 
            { text: '- Нет. Но ты можешь стать моей наложницей. Если ты так сильно хочешь стать моей женой, то сперва покажи себя'
			, nextStep: 60, path: 'No' }
          ] 
        },
		{ 
          text: '', 
          type: 'choice', 
		  path: 'list', 
          choices: [
            { text: '- Да, позволю. Однако, став моей женой ты будешь слушаться меня во всём и беспрекословно выполнять любые мои команды. Даже если я прикажу растолстеть до неподвижности. '
			, nextStep: 58, path: 'Yes' },
            { text: '- Нет. Но ты можешь стать моей наложницей. Если ты так сильно хочешь стать моей женой, то сперва покажи себя'
			, nextStep: 60, path: 'No' }
          ] 
        },
		{ 
          text: '', 
          type: 'choice', 
		  path: 'fast', 
          choices: [
            { text: '- Да, позволю. Однако, став моей женой ты будешь слушаться меня во всём и беспрекословно выполнять любые мои команды. Даже если я прикажу растолстеть до неподвижности. '
			, nextStep: 59, path: 'Yes' }, 
            { text: '- Нет. Но ты можешь стать моей наложницей. Если ты так сильно хочешь стать моей женой, то сперва покажи себя'
			, nextStep: 60, path: 'No' }
          ] 
        },
        { 
          text: '', 
          type: 'choice', 
		  path: 'Grub', 
          choices: [
            { text: '- Если ты согласна так есть каждый день. Если ты согласна стать для меня настолько толстой, насколько я того захочу, то да. Я возьму тебя в жёны.'
			, nextStep: 61, path: 'Yes1' }, 
            { text: 'Пока нет. Ты всего лишь один раз поела, у меня есть рабыни которые едят побольше тебя по несколько раз в день. Но если ты правда так сильно хочешь стать моей женой, то просто стань крупнее и массивнее всех моих рабынь и горничных. Стань для меня самой жирной лисицей на свете, самой жирной свиньёй. И тогда, я возьму тебя в жёны.'
			, nextStep: 63, path: 'No1' }
          ] 
        },
        { text: 'Лисица радостно подпрыгнула. Её длинный пушистый хвост резко выпрямился, а после игриво завилял из стороны в сторону. Её глаза ярко сияли от радости, а щёки были румяными как у младенца.'
		, type: 'text', path: 'Yes' },
        { text: '-Да, мой господин! Мой почётный муж! Ваше слово для меня закон! Если скажите растолстеть, я растолстею! Скажите объедаться до потери памяти, я объемся! Я всё сделаю ради вас, мой прекрасный муж! Всё сделаю для вашего счастья! '
		, type: 'text', path: 'Yes' },
		{ text: 'Лисица подавлено опускает голову и тяжело вздыхает. Её пышный пушистый хвост натягивает полу-прозрачное платье. Ткань плотно облепляет белый кружевной лифчик, выделяя каждый его лепесток. Объёмы груди и гладкая кожа чётко видны под лёгкой тканью. «Эх, как бы я не старалась, он слишком мудр и рационален, чтобы поддаться моим чарам… Но, это ещё не конец! Он позволил мне стать его наложницей! Я завоюю его доверие и исполню своё предназначение! Просто, мне потребуется на это время…» '
		, type: 'text', path: 'No' },
		//60↓↓
		{ text: '-Конечно мой герой! Я согласна! Я буду есть так каждый день! Хоть по три раза! Кормите меня сколько вам угодно, я буду делать всё что смогу, чтобы вы были счастливы! А если не смогу, то сделайте это со мной сами! Я ваша покорная лисица, ваш послушный питомец, цель моей жизни это ваше удовольствие! '
		, type: 'text', path: 'Yes1' },
		{ text: 'Лисица покорно поджала хвост, а её глаза наполнились слезами радости. «Я сделала это… Я стала его женой! Я выполнила поручение главы! Теперь альянс зверолюдей станет непобедимым! Мама, папа, братишки и сестрёнки… Вы будете гордиться мной! Ведь я стала почётной женой великого героя! Правда… Теперь возможно мне придётся смириться с тем, что я не смогу даже ходить… Буду от него полностью зависеть во всём… Но если честно… Меня эта перспектива очень даже привлекает! Так ведь и должно быть, питомец должен зависеть от своего хозяина! А смыслом жизни хорошей жены должно быть счастье и удовольствие её мужа! Так что я обязательно буду лучшей! Лучшей во всём!»'
		, type: 'text', path: 'Yes1' },
		{ text: '-Да, конечно… Это справедливо. Хорошо, я стану для вас самой жирной на свете. И стану так быстро, что вы и оглянуться не успеете! Я стану настолько жирной, что меня даже магией с места сдвинуть не получится! У меня будет столько складок, что все счетоводы страны не смогут их подсчитать! А есть я буду так много, что вам понадобится три страны, чтобы прокормить меня одну! Так что готовьте свои запасы герой и скорее несите их сюда! Я покажу вам что достойна быть вашей женой! '
		, type: 'text', path: 'No1' },
		{ text: 'Лисица загадочно улыбается'
		, type: 'text', path: 'Shadow' },
		/*{ 
          text: '', 
          type: 'choice', 
          path: '', 
          choices: [
            { text: ''
			, nextStep: 14, path: '' }, 
            { text: ''
			, nextStep: 16, path: '' }
          ] 
        },*/
		{ text: 'Лисица загадочно улыбается'
		, type: 'text', path: 'Shadow' }
		
      ]
    };
  },
  methods: {
    next() {
    if (this.currentStep < this.story.length) {
      let current = this.story[this.currentStep];

      // Проверяем, подходит ли текущий шаг под выбранный путь
      if (current.path && current.path !== this.userPath) {
        this.currentStep++; // Пропускаем шаг, если он не соответствует пути
        this.next(); // Рекурсивный вызов для поиска подходящего шага
        return;
      }

      if (current.type === 'text') {
        // Добавляем новое сообщение в список сообщений
        this.messages.push({ text: current.text, isChoice: false });
        this.currentStep++;
        this.scrollToBottom(); // Прокручиваем вниз после добавления сообщения
      } else if (current.type === 'choice') {
        this.showChoices = true;
        this.choices = current.choices;
        this.showButton = false;
        this.showModal = true;
        this.showBackButton = true;
      }
    }
  },
  scrollToBottom() {
    this.$nextTick(() => {
      const container = this.$refs.dialogContainer;
      container.scrollTop = container.scrollHeight;
    });
  },
    openChoices() {
      this.showModal = true;
      this.showButton = false; // Скрываем кнопку "Выбор", так как открыто модальное окно
    },
    chooseOption(choice) {
	  // Устанавливаем выбранный путь (если он есть)
	  if (choice.path) {
		this.userPath = choice.path;
	  }

	  // Добавляем сообщение для выбранного шага и сохраняем выбор в историю
	  this.messages.push({ text: choice.text, isChoice: true });
	  this.history.push({ step: this.currentStep, path: this.userPath });

	  this.showModal = false;
	  this.showChoices = false;
	  this.showButton = true;

	  // Переходим на шаг, который отображает текст после выбора
	  this.currentStep = choice.nextStep; 

	  // Сначала отобразим текст выбора, и только потом перейдем к следующему шагу
	  setTimeout(() => {
		this.next(); // продолжаем историю после выбора
	  }, 300); // небольшая задержка
	},
    goBack() {
	  if (this.history.length > 0) {
		// Возвращаемся к последнему выбору
		const lastChoice = this.history.pop();
		this.currentStep = lastChoice.step - 1; // Возвращаемся на один шаг назад
		this.userPath = lastChoice.path;

		// Удаляем сообщения, которые были добавлены после последнего выбора
		const lastChoiceIndex = this.history.length > 0 ? this.history[this.history.length - 1].step : 0;
		this.messages = this.messages.slice(0, lastChoiceIndex * 2 + 1); // +1 чтобы оставить последнее сообщение

		this.showButton = true;
		this.showChoices = false;
		this.showModal = false;

		this.next(); // Переход на правильный шаг после возврата
	  }
	},
    toggleTheme() {
      if (this.theme === 'light') {
        this.theme = 'dark';
        this.themeButtonText = 'Светлая тема';
        document.body.classList.add('dark-theme');
      } else {
        this.theme = 'light';
        this.themeButtonText = 'Темная тема';
        document.body.classList.remove('dark-theme');
      }
    }
  },
  mounted() {
    this.next();
  }
}).mount('#app');
</script>

<style>
body {
  font-family: 'Arial', sans-serif;
  transition: background-color 0.3s, color 0.3s;
}

.dark-theme {
  background-color: #2d2d2d;
  color: #f0f0f0;
}

.dialog-container {
  max-height: 500px;
  overflow-y: auto;
  padding: 10px;
  font-size: 24px;
  border: 1px solid #ccc;
  border-radius: 5px;
}

.message {
  margin-bottom: 10px;
  font-size: 24px;
  opacity: 0;
  animation: fadeIn 0.5s forwards;
}

.font-weight-bold {
  font-weight: bold;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.modal-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal-content {
  background: #fff;
  padding: 20px;
  border-radius: 5px;
}

.dark-theme .modal-content {
  background: #333;
}

button {
  transition: all 0.3s ease;
}

</style>
</body>
</html>
